     *= $1000DELAY = 50/8     JSR $E544     ; CLEAR SCREEN     SEI           ; DISABLE INT     LDA $D016     AND #$F0     ORA XOFFSET     STA $D016MLOOP     LDA #$FF     CMP $D012     BNE *-3       ; WAIT FOR RASTER 255     CMP $D012     BEQ *-3       ; EXIT FROM RASTER     DEC FRAMECNT  ; DECREMENT FRAMECNT     BNE MLOOP     LDA #DELAY     STA FRAMECNT     LDX XOFFSET     DEX     CPX #$FF     BNE SCROLL     LDX #7SCROLL     STX XOFFSET     LDA $D016     AND #$F0     ORA XOFFSET     STA $D016     LDX XOFFSET     CPX #7     BNE MLOOP     LDX #0COPYCHR     LDA $0401,X     STA $0400,X     INX     CPX #39     BNE COPYCHR     INC $D020     LDA #DELAY     STA FRAMECNT  ; RESET FRAME COUNTER     LDX CHARCNT     LDA MESSAGE,X ; READ NEXT CHAR     STA $0427     INX     STX CHARCNT   ; UPDATE CHARCNT     LDA MESSAGE,X     BNE MLOOP     LDX #0     STX CHARCNT   ; RESET CHAR CNT     BEQ MLOOPMESSAGE     .TEXT "HELLO SCROLLING TEXT"     .TEXT "    ***    "     .BYTE 0CHARCNT     .BYTE 0FRAMECNT     .BYTE DELAYXOFFSET     .BYTE 7